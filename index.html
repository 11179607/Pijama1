<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pijamas Elegantes - Moda Femenina y Accesorios de Belleza</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicon de Luna -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåô</text></svg>" type="image/svg+xml">
    
    <style>
        /* ========== ESTILOS GENERALES ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #f8a5c2;
            --secondary-color: #574b90;
            --dark-color: #303952;
            --light-color: #f7f1e3;
            --accent-color: #786fa6;
            --text-color: #333;
            --text-light: #777;
            --success-color: #26de81;
            --warning-color: #ff9f43;
            --error-color: #ff6b6b;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        body {
            color: var(--text-color);
            line-height: 1.6;
            background-color: #fff;
            overflow-x: hidden;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* ========== MODAL DE PRODUCTO MEJORADO ========== */
        .product-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            position: relative;
            background-color: white;
            margin: 40px auto;
            padding: 0;
            width: 95%;
            max-width: 1100px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.4s ease;
        }

        .modal-header {
            padding: 20px 30px;
            background: linear-gradient(45deg, var(--secondary-color), var(--accent-color));
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 24px;
            margin: 0;
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            transition: transform 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            transform: rotate(90deg);
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            padding: 40px;
        }

        @media (max-width: 992px) {
            .modal-body {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        @media (max-width: 768px) {
            .modal-body {
                padding: 20px;
            }
        }

        /* ========== CONTENEDOR DE IMAGEN CON ZOOM ========== */
        .modal-image-container {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            background: #f8f8f8;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: zoom-in;
        }

        .modal-image-container.zoomed {
            cursor: zoom-out;
        }

        #modalMainImage {
            max-width: 100%;
            max-height: 500px;
            object-fit: contain;
            transition: transform 0.3s ease;
            display: block;
            margin: 0 auto;
        }

        .modal-image-container.zoomed #modalMainImage {
            transform: scale(1.8);
        }

        .image-zoom-btn {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            color: var(--secondary-color);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
            z-index: 2;
        }

        .image-zoom-btn:hover {
            background: white;
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        /* ========== INFORMACI√ìN DEL PRODUCTO ========== */
        .modal-product-info {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .modal-product-category {
            color: var(--accent-color);
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .modal-product-name {
            font-size: 28px;
            color: var(--dark-color);
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .modal-product-price {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .modal-current-price {
            font-size: 32px;
            font-weight: 700;
            color: var(--secondary-color);
        }

        .modal-old-price {
            font-size: 20px;
            color: var(--text-light);
            text-decoration: line-through;
        }

        .modal-discount {
            background: var(--primary-color);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .modal-description {
            margin: 20px 0;
            line-height: 1.8;
        }

        .modal-description h4 {
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-description h4 i {
            color: var(--primary-color);
        }

        .modal-features {
            list-style: none;
            margin: 20px 0;
        }

        .modal-features li {
            padding: 10px 0;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px dashed #eee;
        }

        .modal-features li:last-child {
            border-bottom: none;
        }

        .modal-features i {
            color: var(--success-color);
            font-size: 14px;
        }

        /* ========== IM√ÅGENES ADICIONALES ========== */
        .additional-images {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .additional-image {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .additional-image:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }

        .additional-image.active {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }

        .additional-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* ========== BOTONES DE ACCI√ìN ========== */
        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .btn-modal {
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex: 1;
            text-decoration: none;
        }

        .btn-modal-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-modal-primary:hover {
            background: #f78fb3;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(248, 165, 194, 0.3);
        }

        .btn-modal-secondary {
            background: var(--secondary-color);
            color: white;
        }

        .btn-modal-secondary:hover {
            background: #473d7a;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(87, 75, 144, 0.3);
        }

        @media (max-width: 768px) {
            .modal-actions {
                flex-direction: column;
            }
            
            .btn-modal {
                width: 100%;
            }
        }

        /* ========== SISTEMA DE CITAS MEJORADO ========== */
        .appointment-section {
            padding: 80px 0;
            background: linear-gradient(135deg, #f9f7ff 0%, #fff7fb 100%);
        }

        .appointment-container {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 40px;
            margin-bottom: 50px;
        }

        .service-info {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .service-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .service-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(45deg, var(--primary-color), #f78fb3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
            margin-bottom: 20px;
        }

        .service-card h3 {
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .service-features {
            list-style: none;
            margin: 20px 0;
        }

        .service-features li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .service-features i {
            color: var(--success-color);
        }

        .service-price {
            font-size: 18px;
            color: var(--text-light);
        }

        .service-price .price {
            font-size: 32px;
            font-weight: 700;
            color: var(--secondary-color);
        }

        .service-types h4 {
            color: var(--dark-color);
            margin-bottom: 20px;
        }

        .type-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .service-type {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .service-type:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
        }

        .service-type.selected {
            border-color: var(--primary-color);
            background: #fff9fb;
        }

        .service-type h5 {
            color: var(--secondary-color);
            margin-bottom: 5px;
        }

        .service-type p {
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 10px;
        }

        .type-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .appointment-form-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-header {
            padding: 25px;
            background: linear-gradient(45deg, var(--secondary-color), #786fa6);
            color: white;
            text-align: center;
        }

        .form-header h3 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .appointment-form {
            padding: 30px;
        }

        .form-step {
            display: none;
            animation: fadeIn 0.5s;
        }

        .form-step.active {
            display: block;
        }

        .form-step h4 {
            color: var(--secondary-color);
            margin-bottom: 20px;
            font-size: 18px;
        }

        .calendar-widget {
            background: #f8f8f8;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .calendar-month {
            font-weight: 600;
            color: var(--secondary-color);
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav-btn {
            background: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }

        .calendar-day {
            text-align: center;
            font-size: 12px;
            color: var(--text-light);
            padding: 5px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-date {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .calendar-date:hover {
            background: #eee;
        }

        .calendar-date.selected {
            background: var(--primary-color);
            color: white;
        }

        .calendar-date.disabled {
            color: #ccc;
            cursor: not-allowed;
            background: #f5f5f5;
        }

        .calendar-date.today {
            background: #f0f0f0;
            font-weight: bold;
        }

        .calendar-date.available {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .calendar-date.booked {
            background: #ffebee;
            color: #c62828;
            cursor: not-allowed;
        }

        .calendar-date.booked-adjacent {
            background: #fff3e0;
            color: #ef6c00;
            cursor: not-allowed;
        }

        /* ========== HORARIOS CON VALIDACI√ìN ========== */
        .time-slots-container {
            margin-top: 20px;
        }

        .time-slots-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .time-slots-notice {
            font-size: 12px;
            color: var(--text-light);
            background: #f0f7ff;
            padding: 8px 12px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .time-slots-notice i {
            color: var(--primary-color);
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .time-slot {
            padding: 10px;
            background: #f8f8f8;
            border: 2px solid transparent;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .time-slot:hover:not(.disabled):not(.booked) {
            border-color: var(--primary-color);
        }

        .time-slot.selected {
            background: var(--primary-color);
            color: white;
        }

        .time-slot.disabled {
            background: #eee;
            color: #ccc;
            cursor: not-allowed;
        }

        .time-slot.booked {
            background: #ffebee;
            color: #c62828;
            cursor: not-allowed;
            position: relative;
        }

        .time-slot.booked::after {
            content: '‚úó';
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--error-color);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .time-slot.adjacent {
            background: #fff3e0;
            color: #ef6c00;
            cursor: not-allowed;
        }

        .time-slot.adjacent::before {
            content: '‚è≥';
            margin-right: 5px;
        }

        .time-slot.available {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .time-slot.available::before {
            content: '‚úì';
            margin-right: 5px;
        }

        /* ========== ALERTAS DE VALIDACI√ìN ========== */
        .validation-alert {
            background: #fff3cd;
            border: 2px solid var(--warning-color);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            display: none;
            animation: slideIn 0.3s;
        }

        .validation-alert.show {
            display: block;
        }

        .validation-alert.error {
            background: #ffebee;
            border-color: var(--error-color);
        }

        .validation-alert.success {
            background: #e8f5e9;
            border-color: var(--success-color);
        }

        .validation-alert-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .validation-alert-header i {
            font-size: 20px;
        }

        .validation-alert.error .validation-alert-header i {
            color: var(--error-color);
        }

        .validation-alert.success .validation-alert-header i {
            color: var(--success-color);
        }

        .validation-alert h4 {
            margin: 0;
            font-size: 16px;
        }

        .suggested-times {
            margin-top: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 5px;
        }

        .suggested-times h5 {
            margin-bottom: 8px;
            font-size: 14px;
        }

        .alternative-slots {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .alternative-slot {
            background: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .alternative-slot:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ========== RESTO DEL C√ìDIGO ========== */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .appointment-summary {
            background: #f8f8f8;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed #ddd;
        }

        .summary-item:last-child {
            border-bottom: none;
            font-weight: 700;
            color: var(--secondary-color);
            font-size: 18px;
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 10px;
        }

        .form-navigation button {
            min-width: 120px;
        }

        .whatsapp-confirmation {
            padding: 40px 30px;
            text-align: center;
            display: none;
        }

        .confirmation-icon {
            font-size: 60px;
            color: #25D366;
            margin-bottom: 20px;
        }

        .confirmation-content h3 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        .appointment-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .info-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .info-card i {
            font-size: 30px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .info-card h4 {
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .info-card p {
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 5px;
        }

        .certified {
            display: inline-block;
            background: #e8f5e9;
            color: #2e7d32;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
        }

        .view-map {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 14px;
            display: inline-block;
            margin-top: 10px;
        }

        /* ========== ANIMACIONES ========== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ========== HEADER Y NAVEGACI√ìN ========== */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo h1 {
            font-size: 24px;
            color: var(--secondary-color);
            font-weight: 700;
        }

        .logo span {
            color: var(--primary-color);
        }

        /* Luna con efecto brillante */
        .logo-icon {
            color: #FFD700; /* Color dorado para la luna */
            font-size: 32px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            animation: moonGlow 3s infinite alternate;
        }

        @keyframes moonGlow {
            from {
                text-shadow: 0 0 5px rgba(255, 215, 0, 0.5),
                             0 0 10px rgba(255, 215, 0, 0.3);
            }
            to {
                text-shadow: 0 0 10px rgba(255, 215, 0, 0.7),
                             0 0 20px rgba(255, 215, 0, 0.5),
                             0 0 30px rgba(255, 215, 0, 0.3);
            }
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav a {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 600;
            font-size: 16px;
            transition: color 0.3s;
            position: relative;
        }

        nav a:hover {
            color: var(--primary-color);
        }

        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            bottom: -5px;
            left: 0;
            transition: width 0.3s;
        }

        nav a:hover::after {
            width: 100%;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--primary-color);
            color: white;
            font-size: 12px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .mobile-menu-btn {
            display: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--secondary-color);
        }

        /* ========== HERO SECTION CON LUNA ========== */
        .hero {
            background: linear-gradient(rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0.9)), 
                        url('https://images.unsplash.com/photo-1558769132-cb1a40ed0ada?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            padding: 100px 0;
            text-align: center;
            color: var(--dark-color);
            position: relative;
            overflow: hidden;
        }

        /* Efecto de estrellas en el fondo del hero */
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(1px 1px at 20% 30%, rgba(255, 255, 255, 0.8) 1px, transparent 2px),
                radial-gradient(1px 1px at 40% 70%, rgba(255, 255, 255, 0.8) 1px, transparent 2px),
                radial-gradient(1.5px 1.5px at 60% 20%, rgba(255, 255, 255, 0.9) 1px, transparent 2px),
                radial-gradient(1.5px 1.5px at 80% 50%, rgba(255, 255, 255, 0.9) 1px, transparent 2px),
                radial-gradient(2px 2px at 30% 90%, rgba(255, 255, 255, 1) 1px, transparent 2px),
                radial-gradient(2px 2px at 70% 80%, rgba(255, 255, 255, 1) 1px, transparent 2px);
            background-size: 200px 200px;
            animation: starsTwinkle 4s infinite alternate;
            opacity: 0.3;
            pointer-events: none;
        }

        @keyframes starsTwinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.4; }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-moon {
            font-size: 60px;
            color: #FFD700;
            margin-bottom: 20px;
            display: inline-block;
            animation: moonFloat 6s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5),
                         0 0 40px rgba(255, 215, 0, 0.3);
        }

        @keyframes moonFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .hero h2 {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--secondary-color);
        }

        .hero p {
            font-size: 20px;
            max-width: 700px;
            margin: 0 auto 30px;
            color: var(--text-color);
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn {
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background-color: #f78fb3;
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--secondary-color);
            border: 2px solid var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: var(--secondary-color);
            color: white;
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        /* ========== SECCIONES DE PRODUCTOS ========== */
        .section-title {
            text-align: center;
            margin: 60px 0 40px;
            color: var(--secondary-color);
            font-size: 36px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 3px;
            background-color: var(--primary-color);
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Luna decorativa en t√≠tulos de secci√≥n */
        .section-title i {
            color: #FFD700;
            font-size: 32px;
            margin-right: 15px;
            vertical-align: middle;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .product-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: 600;
            z-index: 1;
        }

        .product-image {
            height: 250px;
            overflow: hidden;
            position: relative;
        }

        .image-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
            cursor: pointer;
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .view-details-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.95);
            border: none;
            padding: 8px 15px;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 600;
            color: var(--secondary-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
            z-index: 2;
        }

        .view-details-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .product-info {
            padding: 20px;
        }

        .product-category {
            color: var(--accent-color);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .product-name {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .product-description {
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 15px;
            height: 40px;
            overflow: hidden;
        }

        .product-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .price {
            font-size: 22px;
            font-weight: 700;
            color: var(--secondary-color);
        }

        .old-price {
            font-size: 16px;
            color: var(--text-light);
            text-decoration: line-through;
            margin-right: 5px;
        }

        .add-to-cart {
            background-color: var(--primary-color);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .add-to-cart:hover {
            background-color: #f78fb3;
        }

        /* ========== OCASIONES ESPECIALES ========== */
        .special-occasions {
            padding: 80px 0;
            background: linear-gradient(135deg, #fff9fb 0%, #f8f4ff 100%);
        }

        .section-subtitle {
            text-align: center;
            color: var(--text-light);
            font-size: 18px;
            margin-bottom: 50px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .occasions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .occasion-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: all 0.4s;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .occasion-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .occasion-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .occasion-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .occasion-card:hover .occasion-image img {
            transform: scale(1.05);
        }

        .occasion-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .occasion-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .occasion-content h3 {
            color: var(--secondary-color);
            font-size: 22px;
            margin-bottom: 10px;
        }

        .occasion-content p {
            color: var(--text-light);
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .occasion-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .occasion-features span {
            background: #f8f8f8;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            color: var(--accent-color);
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .occasion-filters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 40px 0;
        }

        .occasion-filters .filter-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #eee;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-color);
            transition: all 0.3s;
        }

        .occasion-filters .filter-btn:hover,
        .occasion-filters .filter-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .custom-gifts-banner {
            background: linear-gradient(45deg, var(--secondary-color), #786fa6);
            border-radius: 15px;
            padding: 40px;
            color: white;
            text-align: center;
            margin-top: 40px;
        }

        /* ========== TESTIMONIOS ========== */
        .testimonials {
            background-color: #f9f7ff;
            padding: 60px 0;
            margin: 60px 0;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .testimonial-card {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--light-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--primary-color);
        }

        .author-name {
            font-weight: 600;
            color: var(--dark-color);
        }

        .author-info {
            font-size: 14px;
            color: var(--text-light);
        }

        /* ========== VENTAS DIRECTAS ========== */
        .direct-sales {
            text-align: center;
            padding: 60px 0;
            background: linear-gradient(to right, #f8a5c2, #786fa6);
            color: white;
            margin: 60px 0;
            position: relative;
            overflow: hidden;
        }

        /* Efecto de luna en fondo de ventas directas */
        .direct-sales::before {
            content: 'üåô';
            position: absolute;
            font-size: 300px;
            opacity: 0.1;
            top: -100px;
            right: -50px;
            transform: rotate(15deg);
            pointer-events: none;
        }

        .direct-sales h2 {
            font-size: 36px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .direct-sales p {
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto 30px;
            position: relative;
            z-index: 1;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            position: relative;
            z-index: 1;
        }

        .social-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: white;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s;
        }

        .social-icon:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .social-icon.instagram {
            color: #E4405F;
        }

        .social-icon.whatsapp {
            color: #25D366;
        }

        /* ========== FOOTER CON LUNA ========== */
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 60px 0 30px;
            position: relative;
            overflow: hidden;
        }

        /* Luna en fondo del footer */
        footer::before {
            content: 'üåô';
            position: absolute;
            font-size: 200px;
            opacity: 0.05;
            bottom: -50px;
            left: -50px;
            transform: rotate(-15deg);
            pointer-events: none;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }

        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-column h3 i {
            color: #FFD700;
            font-size: 24px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--primary-color);
        }

        .newsletter-form {
            display: flex;
            margin-top: 15px;
        }

        .newsletter-input {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 5px 0 0 5px;
        }

        .newsletter-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0 20px;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 14px;
            position: relative;
            z-index: 1;
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 992px) {
            .appointment-container {
                grid-template-columns: 1fr;
            }
            
            .time-slots {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .hero h2 {
                font-size: 36px;
            }
            
            .section-title {
                font-size: 30px;
            }
            
            .occasions-grid {
                grid-template-columns: 1fr;
                max-width: 400px;
                margin-left: auto;
                margin-right: auto;
            }
            
            .hero-moon {
                font-size: 50px;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-wrap: wrap;
            }
            
            nav {
                display: none;
                width: 100%;
                order: 3;
                margin-top: 15px;
            }
            
            nav.active {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
                gap: 10px;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .hero {
                padding: 70px 0;
            }
            
            .hero h2 {
                font-size: 32px;
            }
            
            .occasion-filters {
                overflow-x: auto;
                justify-content: flex-start;
                padding-bottom: 10px;
            }
            
            .type-grid {
                grid-template-columns: 1fr;
            }
            
            .form-navigation {
                flex-direction: column;
            }
            
            .form-navigation button {
                width: 100%;
            }
            
            .time-slots {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .hero-moon {
                font-size: 40px;
            }
            
            .direct-sales::before {
                font-size: 200px;
                top: -70px;
                right: -30px;
            }
            
            footer::before {
                font-size: 150px;
                bottom: -40px;
                left: -30px;
            }
        }

        @media (max-width: 576px) {
            .hero h2 {
                font-size: 28px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .section-title {
                font-size: 26px;
            }
            
            .product-price {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .social-icons {
                flex-wrap: wrap;
            }
            
            .time-slots {
                grid-template-columns: 1fr;
            }
            
            .hero-moon {
                font-size: 35px;
            }
        }
    </style>
</head>
<body>
    <!-- ========== MODAL DE PRODUCTO MEJORADO ========== -->
    <div class="product-modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-moon"></i> <span id="modalProductName">Nombre del Producto</span></h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-image-container" id="modalImageContainer">
                    <img id="modalMainImage" src="" alt="Producto">
                    <button class="image-zoom-btn" id="zoomBtn">
                        <i class="fas fa-search-plus"></i>
                    </button>
                </div>
                <div class="modal-product-info">
                    <div class="modal-product-category" id="modalCategory">Categor√≠a</div>
                    <h2 class="modal-product-name" id="modalName">Nombre del Producto</h2>
                    
                    <div class="modal-product-price">
                        <span class="modal-current-price" id="modalCurrentPrice">$0</span>
                        <span class="modal-old-price" id="modalOldPrice"></span>
                        <span class="modal-discount" id="modalDiscount" style="display: none;"></span>
                    </div>
                    
                    <div class="modal-description">
                        <h4><i class="fas fa-moon"></i> Descripci√≥n Detallada</h4>
                        <p id="modalDescription">Descripci√≥n del producto...</p>
                        
                        <h4><i class="fas fa-star"></i> Caracter√≠sticas</h4>
                        <ul class="modal-features" id="modalFeatures">
                            <!-- Caracter√≠sticas se cargar√°n con JavaScript -->
                        </ul>
                    </div>
                    
                    <div class="additional-images" id="additionalImages">
                        <!-- Im√°genes adicionales se cargar√°n con JavaScript -->
                    </div>
                    
                    <div class="modal-actions">
                        <button class="btn-modal btn-modal-primary" id="addToCartModal">
                            <i class="fas fa-shopping-bag"></i> Agregar al Carrito
                        </button>
                        <a href="https://wa.me/521234567890" class="btn-modal btn-modal-secondary" target="_blank">
                            <i class="fab fa-whatsapp"></i> Comprar por WhatsApp
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== HEADER Y NAVEGACI√ìN ========== -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-moon logo-icon"></i>
                <h1>Pijamas<span>Elegantes</span></h1>
            </div>
            
            <div class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </div>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="#home"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="#pijamas"><i class="fas fa-moon"></i> Pijamas</a></li>
                    <li><a href="#accesorios"><i class="fas fa-star"></i> Accesorios</a></li>
                    <li><a href="#citas"><i class="fas fa-calendar-alt"></i> Cita Pesta√±as</a></li>
                    <li><a href="#ocasiones"><i class="fas fa-gift"></i> Ocasiones Especiales</a></li>
                    <li><a href="#testimonios"><i class="fas fa-comment"></i> Testimonios</a></li>
                    <li><a href="#contacto"><i class="fas fa-phone"></i> Contacto</a></li>
                </ul>
            </nav>
            
            <div class="cart-icon" id="cartIcon">
                <i class="fas fa-shopping-bag"></i>
                <span class="cart-count">0</span>
            </div>
        </div>
    </header>

    <!-- ========== HERO SECTION CON LUNA ========== -->
    <section class="hero" id="home">
        <div class="container hero-content">
            <div class="hero-moon">üåô</div>
            <h2>Confort y Elegancia en Pijamas Femeninos</h2>
            <p>Descubre nuestra colecci√≥n exclusiva de pijamas para dama y accesorios de belleza. Calidad premium y dise√±os √∫nicos para realzar tu belleza natural.</p>
            <div class="cta-buttons">
                <a href="#pijamas" class="btn btn-primary">
                    <i class="fas fa-shopping-bag"></i> Ver Colecci√≥n
                </a>
                <a href="#citas" class="btn btn-secondary">
                    <i class="fas fa-calendar-alt"></i> Agendar Cita Pesta√±as
                </a>
            </div>
        </div>
    </section>

    <!-- ========== SECCI√ìN DE PIJAMAS ========== -->
    <section class="container" id="pijamas">
        <h2 class="section-title"><i class="fas fa-moon"></i> Pijamas para Dama</h2>
        <div class="products-grid" id="pajamasGrid">
            <!-- Productos din√°micos se cargar√°n aqu√≠ -->
        </div>
    </section>

    <!-- ========== SECCI√ìN DE ACCESORIOS ========== -->
    <section class="container" id="accesorios">
        <h2 class="section-title"><i class="fas fa-star"></i> Accesorios de Belleza</h2>
        <div class="products-grid" id="accessoriesGrid">
            <!-- Productos din√°micos se cargar√°n aqu√≠ -->
        </div>
    </section>

    <!-- ========== SISTEMA DE CITAS CON VALIDACI√ìN ========== -->
    <section class="appointment-section" id="citas">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-calendar-alt"></i> üíÖ Agenda tu Cita para Pesta√±as</h2>
            <p class="section-subtitle">Sistema inteligente que evita conflictos de horario - 1 hora m√≠nima entre citas</p>
            
            <div class="appointment-container">
                <div class="service-info">
                    <div class="service-card">
                        <div class="service-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h3>Servicio de Pesta√±as</h3>
                        <p>Aplicaci√≥n profesional con productos premium</p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> Duraci√≥n: 1.5 - 2 horas</li>
                            <li><i class="fas fa-check"></i> Materiales incluidos</li>
                            <li><i class="fas fa-check"></i> Consulta previa gratuita</li>
                            <li><i class="fas fa-check"></i> T√©cnica h√≠brida disponible</li>
                            <li><i class="fas fa-check"></i> <strong>1 hora m√≠nima entre citas</strong></li>
                        </ul>
                        <div class="service-price">
                            Desde <span class="price">$499</span>
                        </div>
                    </div>
                    
                    <div class="service-types">
                        <h4>Tipos de servicio:</h4>
                        <div class="type-grid">
                            <div class="service-type" data-service="clasico">
                                <h5>Cl√°sico</h5>
                                <p>Efecto natural</p>
                                <span class="type-price">$499</span>
                            </div>
                            <div class="service-type" data-service="volumen-ruso">
                                <h5>Volumen Ruso</h5>
                                <p>Densidad media</p>
                                <span class="type-price">$699</span>
                            </div>
                            <div class="service-type" data-service="hibrido">
                                <h5>H√≠brido</h5>
                                <p>Cl√°sico + Volumen</p>
                                <span class="type-price">$599</span>
                            </div>
                            <div class="service-type" data-service="mega-volumen">
                                <h5>Mega Volumen</h5>
                                <p>Efecto dram√°tico</p>
                                <span class="type-price">$799</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="appointment-form-container">
                    <div class="form-header">
                        <h3><i class="far fa-calendar-check"></i> Agenda tu cita</h3>
                        <p>Sistema inteligente - Sin conflictos de horario</p>
                    </div>
                    
                    <!-- Alerta de validaci√≥n -->
                    <div class="validation-alert" id="validationAlert">
                        <div class="validation-alert-header">
                            <i class="fas fa-info-circle"></i>
                            <h4 id="alertTitle">Informaci√≥n</h4>
                        </div>
                        <p id="alertMessage">Mensaje de validaci√≥n</p>
                        <div class="suggested-times" id="suggestedTimes" style="display: none;">
                            <h5>üí° Horarios disponibles:</h5>
                            <div class="alternative-slots" id="alternativeSlots">
                                <!-- Se llenan con JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <form id="appointmentForm" class="appointment-form">
                        <!-- Paso 1: Fecha y hora -->
                        <div class="form-step active" id="step1">
                            <h4>1. Selecciona fecha y hora</h4>
                            <div class="time-slots-notice">
                                <i class="fas fa-clock"></i>
                                <span><strong>1 hora m√≠nima entre citas</strong> - Sistema anti-conflictos</span>
                            </div>
                            
                            <div class="calendar-widget" id="appointmentCalendar">
                                <!-- Calendario din√°mico -->
                            </div>
                            
                            <div class="time-slots-container">
                                <div class="time-slots-header">
                                    <h5>Horarios disponibles para <span id="selectedDateText">hoy</span>:</h5>
                                </div>
                                <div class="time-slots" id="timeSlots">
                                    <!-- Horarios se cargan din√°micamente -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Paso 2: Datos personales -->
                        <div class="form-step" id="step2">
                            <h4>2. Tus datos</h4>
                            <div class="form-group">
                                <input type="text" id="clientName" placeholder="Nombre completo" required>
                            </div>
                            <div class="form-group">
                                <input type="tel" id="clientPhone" placeholder="WhatsApp (10 d√≠gitos)" required>
                            </div>
                            <div class="form-group">
                                <input type="email" id="clientEmail" placeholder="Correo electr√≥nico" required>
                            </div>
                            <div class="form-group">
                                <textarea id="clientNotes" placeholder="Notas adicionales (alergias, preferencias, etc.)" rows="3"></textarea>
                            </div>
                        </div>
                        
                        <!-- Paso 3: Confirmaci√≥n -->
                        <div class="form-step" id="step3">
                            <h4>3. Confirma tu cita</h4>
                            <div class="appointment-summary" id="appointmentSummary">
                                <!-- Resumen de la cita -->
                            </div>
                        </div>
                        
                        <!-- Navegaci√≥n -->
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary prev-step" id="prevStep">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <button type="button" class="btn btn-primary next-step" id="nextStep">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                            <button type="submit" class="btn btn-success" id="submitAppointment" style="display: none;">
                                <i class="fas fa-calendar-check"></i> Confirmar Cita
                            </button>
                        </div>
                    </form>
                    
                    <!-- Confirmaci√≥n WhatsApp -->
                    <div class="whatsapp-confirmation" id="whatsappConfirmation" style="display: none;">
                        <div class="confirmation-content">
                            <i class="fab fa-whatsapp confirmation-icon"></i>
                            <h3>¬°Cita Agendada!</h3>
                            <p>Se abrir√° WhatsApp con todos los detalles. Solo da clic en "Enviar".</p>
                            <a href="#" class="btn btn-primary" id="openWhatsApp">
                                <i class="fab fa-whatsapp"></i> Abrir WhatsApp para Enviar
                            </a>
                            <p class="small-text" style="margin-top: 15px; font-size: 14px; color: #666;">
                                <i class="fas fa-info-circle"></i> Recibir√°s confirmaci√≥n en menos de 5 minutos
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="appointment-info">
                <div class="info-card">
                    <i class="fas fa-map-marker-alt"></i>
                    <h4>Ubicaci√≥n</h4>
                    <p>Av. Moda 123, Ciudad de M√©xico</p>
                    <a href="#" class="view-map">Ver en mapa</a>
                </div>
                <div class="info-card">
                    <i class="fas fa-clock"></i>
                    <h4>Horarios</h4>
                    <p>Lun-Vie: 10am - 7pm</p>
                    <p>S√°b: 10am - 3pm</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-star"></i>
                    <h4>Especialista</h4>
                    <p>Ana Garc√≠a - 5 a√±os de experiencia</p>
                    <span class="certified">Certificada</span>
                </div>
                <div class="info-card">
                    <i class="fas fa-shield-alt"></i>
                    <h4>Seguridad</h4>
                    <p>Protocolos de higiene</p>
                    <p>Materiales esterilizados</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== OCASIONES ESPECIALES ========== -->
    <section class="special-occasions" id="ocasiones">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-gift"></i> Para Ocasiones Especiales</h2>
            <p class="section-subtitle">Regalos perfectos para celebrar momentos √∫nicos</p>
            
            <div class="occasions-grid">
                <div class="occasion-card" data-occasion="mothers-day">
                    <div class="occasion-image">
                        <img src="https://images.unsplash.com/photo-1520209759809-a9bcb6cb3241?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="D√≠a de la Madre">
                        <div class="occasion-badge">üíù</div>
                    </div>
                    <div class="occasion-content">
                        <h3>D√≠a de la Madre</h3>
                        <p>Pijamas elegantes y kits de belleza para consentir a mam√°. Incluye tarjeta personalizada gratis.</p>
                        <div class="occasion-features">
                            <span><i class="fas fa-gift"></i> Empaque especial</span>
                            <span><i class="fas fa-tag"></i> 15% descuento</span>
                            <span><i class="fas fa-shipping-fast"></i> Entrega express</span>
                        </div>
                        <a href="https://wa.me/5211234567890?text=Hola,%20quiero%20un%20regalo%20para%20el%20D√≠a%20de%20la%20Madre" 
                           class="btn btn-primary" target="_blank">
                            <i class="fab fa-whatsapp"></i> Pedir regalo
                        </a>
                    </div>
                </div>
                
                <div class="occasion-card" data-occasion="valentine">
                    <div class="occasion-image">
                        <img src="https://images.unsplash.com/photo-1511988617509-a57c8a288659?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="San Valent√≠n">
                        <div class="occasion-badge">‚ù§Ô∏è</div>
                    </div>
                    <div class="occasion-content">
                        <h3>San Valent√≠n</h3>
                        <p>Conjuntos rom√°nticos en seda y encaje. Perfectos para una noche especial. Env√≠o discreto.</p>
                        <div class="occasion-features">
                            <span><i class="fas fa-heart"></i> Empaque rom√°ntico</span>
                            <span><i class="fas fa-tag"></i> Combo especial</span>
                            <span><i class="fas fa-box"></i> Env√≠o discreto</span>
                        </div>
                        <a href="https://wa.me/5211234567890?text=Hola,%20busco%20un%20regalo%20para%20San%20Valent√≠n" 
                           class="btn btn-primary" target="_blank">
                            <i class="fab fa-whatsapp"></i> Sorprende a tu pareja
                        </a>
                    </div>
                </div>
                
                <div class="occasion-card" data-occasion="birthday">
                    <div class="occasion-image">
                        <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Cumplea√±os">
                        <div class="occasion-badge">üéÇ</div>
                    </div>
                    <div class="occasion-content">
                        <h3>Cumplea√±os</h3>
                        <p>Celebra con estilo. Pijamas personalizables y kits de belleza con el nombre de la cumplea√±era.</p>
                        <div class="occasion-features">
                            <span><i class="fas fa-star"></i> Personalizable</span>
                            <span><i class="fas fa-tag"></i> 10% descuento</span>
                            <span><i class="fas fa-birthday-cake"></i> Tarjeta de cumplea√±os</span>
                        </div>
                        <a href="https://wa.me/5211234567890?text=Hola,%20necesito%20un%20regalo%20de%20cumplea√±os" 
                           class="btn btn-primary" target="_blank">
                            <i class="fab fa-whatsapp"></i> Pedir regalo
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="occasion-filters">
                <button class="filter-btn active" data-filter="all">Todas las ocasiones</button>
                <button class="filter-btn" data-filter="mothers-day">D√≠a de la Madre</button>
                <button class="filter-btn" data-filter="valentine">San Valent√≠n</button>
                <button class="filter-btn" data-filter="birthday">Cumplea√±os</button>
            </div>
            
            <div class="custom-gifts-banner">
                <div class="banner-content">
                    <h3><i class="fas fa-moon"></i> ¬øNecesitas un regalo personalizado?</h3>
                    <p>Podemos crear un paquete especial con productos seleccionados, empaque personalizado y mensaje dedicado.</p>
                    <a href="https://wa.me/5211234567890?text=Hola,%20quiero%20un%20regalo%20personalizado%20para:" 
                       class="btn btn-secondary" target="_blank">
                        <i class="fas fa-magic"></i> Solicitar regalo personalizado
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== TESTIMONIOS ========== -->
    <section class="testimonials" id="testimonios">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-comment"></i> Lo que dicen nuestras clientas</h2>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <p class="testimonial-text">"Los pijamas son incre√≠blemente suaves y c√≥modos. Me encanta la calidad de la tela y los dise√±os son hermosos. ¬°Mi compra favorita del a√±o!"</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">M</div>
                        <div>
                            <div class="author-name">Mar√≠a Gonz√°lez</div>
                            <div class="author-info">Cliente desde 2022</div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <p class="testimonial-text">"Las pesta√±as postizas son de excelente calidad y el pegamento no irrita mis ojos. El kit de belleza es perfecto para mis viajes. ¬°Totalmente recomendado!"</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">A</div>
                        <div>
                            <div class="author-name">Ana Rodr√≠guez</div>
                            <div class="author-info">Cliente frecuente</div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <p class="testimonial-text">"La atenci√≥n al cliente es excepcional. Me guiaron en mi compra por WhatsApp y recib√≠ mi pedido en tiempo r√©cord. Definitivamente volver√© a comprar."</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">C</div>
                        <div>
                            <div class="author-name">Camila Fern√°ndez</div>
                            <div class="author-info">Primera compra</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== VENTAS DIRECTAS ========== -->
    <section class="direct-sales" id="whatsapp">
        <div class="container">
            <h2><i class="fas fa-moon"></i> ¬øLista para ordenar?</h2>
            <p>Comun√≠cate directamente con nosotros a trav√©s de WhatsApp o Instagram para realizar tu pedido, consultar disponibilidad o recibir asesor√≠a personalizada.</p>
            
            <div class="cta-buttons">
                <a href="https://wa.me/5211234567890?text=Hola,%20estoy%20interesada%20en%20sus%20productos" target="_blank" class="btn btn-primary">
                    <i class="fab fa-whatsapp"></i> Ordenar por WhatsApp
                </a>
            </div>
            
            <div class="social-icons">
                <a href="https://instagram.com/pijamas_elegantes" target="_blank" class="social-icon instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://wa.me/5211234567890" target="_blank" class="social-icon whatsapp">
                    <i class="fab fa-whatsapp"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- ========== FOOTER CON LUNA ========== -->
    <footer id="contacto">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3><i class="fas fa-moon"></i> Pijamas Elegantes</h3>
                    <p>Especialistas en pijamas femeninos y accesorios de belleza. Ofrecemos productos de alta calidad con dise√±os exclusivos.</p>
                    <div class="social-icons">
                        <a href="https://instagram.com/pijamas_elegantes" target="_blank" class="social-icon instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://wa.me/5211234567890" target="_blank" class="social-icon whatsapp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3><i class="fas fa-list"></i> Categor√≠as</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-moon"></i> <a href="#pijamas">Pijamas para Dama</a></li>
                        <li><i class="fas fa-star"></i> <a href="#accesorios">Pesta√±as Postizas</a></li>
                        <li><i class="fas fa-calendar-alt"></i> <a href="#citas">Cita para Pesta√±as</a></li>
                        <li><i class="fas fa-palette"></i> <a href="#accesorios">Kits de Belleza</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3><i class="fas fa-phone"></i> Contacto</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-phone"></i> +52 1 2345 6789</li>
                        <li><i class="fas fa-envelope"></i> hola@pijamaselegantes.com</li>
                        <li><i class="fas fa-map-marker-alt"></i> Ciudad de M√©xico, MX</li>
                        <li><i class="fas fa-clock"></i> Lunes a S√°bado: 9am - 8pm</li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3><i class="fas fa-envelope"></i> Suscr√≠bete</h3>
                    <p>Recibe promociones exclusivas y novedades sobre nuestros productos.</p>
                    <form class="newsletter-form" id="newsletterForm">
                        <input type="email" class="newsletter-input" placeholder="Tu correo electr√≥nico" required>
                        <button type="submit" class="newsletter-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="copyright">
                <p><i class="fas fa-moon"></i> &copy; 2023 Pijamas Elegantes. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // ========== DATOS DE PRODUCTOS ==========
        const products = {
            pajamas: [
                {
                    id: 1,
                    name: "Pijama de Seda Elegante",
                    category: "Pijamas",
                    description: "Confeccionado en seda natural, ideal para noches c√°lidas.",
                    fullDescription: "Este pijama de seda natural es perfecto para quienes buscan comodidad y elegancia. Fabricado con los mejores materiales, ofrece una sensaci√≥n suave y fresca en la piel. Ideal para noches de verano o invierno gracias a su capacidad termorreguladora.",
                    price: 899,
                    oldPrice: 1099,
                    image: "https://images.unsplash.com/photo-1590341328520-63256eb32b8e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1590341328520-63256eb32b8e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                        "https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                        "https://images.unsplash.com/photo-1583496661160-fb5886a0aaaa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    badge: "Nuevo",
                    features: [
                        "100% Seda natural",
                        "Lavable a m√°quina",
                        "No se arruga f√°cilmente",
                        "Colores disponibles: rosa, negro, blanco",
                        "Tallas: XS, S, M, L, XL"
                    ]
                },
                {
                    id: 2,
                    name: "Conjunto de Algod√≥n Org√°nico",
                    category: "Pijamas",
                    description: "Suave y c√≥modo para descansar.",
                    fullDescription: "Conjunto de pijama fabricado en algod√≥n org√°nico 100% certificado. Perfecto para pieles sensibles, este pijama es hipoalerg√©nico y transpirable. Dise√±o moderno con estampado floral y corte relajado para m√°xima comodidad.",
                    price: 699,
                    oldPrice: 850,
                    image: "https://images.unsplash.com/photo-1583496661160-fb5886a0aaaa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1583496661160-fb5886a0aaaa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    badge: "M√°s Vendido",
                    features: [
                        "Algod√≥n org√°nico certificado",
                        "Hipoalerg√©nico",
                        "Transpirable",
                        "Estampado floral exclusivo",
                        "Corte relajado"
                    ]
                },
                {
                    id: 3,
                    name: "Pijama Sat√≠n con Encaje",
                    category: "Pijamas",
                    description: "Elegancia y sensualidad.",
                    fullDescription: "Pijama de sat√≠n con delicados detalles de encaje. Este dise√±o combina elegancia y comodidad, perfecto para ocasiones especiales o para sentirte glamorosa todas las noches. La tela de sat√≠n ofrece un brillo sutil y una textura lujosa.",
                    price: 799,
                    image: "https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    features: [
                        "Tela de sat√≠n premium",
                        "Detalles de encaje",
                        "Corte ajustado",
                        "Cierre trasero",
                        "Colores: rojo, negro, blanco"
                    ]
                },
                {
                    id: 4,
                    name: "Pijama Felpa Invierno",
                    category: "Pijamas",
                    description: "Calidez y confort inigualables.",
                    fullDescription: "Pijama de felpa ultra suave perfecto para los meses de invierno. Dise√±ado para mantener el calor corporal sin sobrecalentar, ideal para climas fr√≠os. Incluye pantal√≥n y camiseta con mangas largas, ambos con ribetes contrastantes.",
                    price: 850,
                    image: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    badge: "Temporada",
                    features: [
                        "Felpa ultra suave",
                        "Mantiene el calor corporal",
                        "Ribetes contrastantes",
                        "Bolsillos laterales",
                        "Lavable a m√°quina"
                    ]
                }
            ],
            accessories: [
                {
                    id: 5,
                    name: "Pesta√±as Postizas Volumen",
                    category: "Accesorios",
                    description: "Efecto natural con volumen extra.",
                    fullDescription: "Juego de pesta√±as postizas de volumen medio con efecto natural pero definido. Perfectas para uso diario o eventos especiales. Fabricadas con pelo sint√©tico de alta calidad que se siente ligero y c√≥modo. Incluye adhesivo hipoalerg√©nico.",
                    price: 249,
                    oldPrice: 349,
                    image: "https://images.unsplash.com/photo-1596703923338-48f1c07e4f2e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1596703923338-48f1c07e4f2e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                        "https://images.unsplash.com/photo-1570196912829-8bb32ab5d199?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    badge: "Nuevo",
                    features: [
                        "Volumen medio natural",
                        "Pelo sint√©tico de calidad",
                        "Adhesivo hipoalerg√©nico incluido",
                        "Duraci√≥n: hasta 15 usos",
                        "Efecto lifting instant√°neo"
                    ]
                },
                {
                    id: 6,
                    name: "Kit Maquillaje Profesional",
                    category: "Accesorios",
                    description: "Todo lo necesario para un look perfecto.",
                    fullDescription: "Kit completo de maquillaje profesional que incluye sombras, labiales, brochas y base. Perfecto para principiantes o expertas en maquillaje. Todos los productos son de larga duraci√≥n y alta pigmentaci√≥n. Estuche organizador incluido.",
                    price: 1299,
                    image: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    badge: "Completo",
                    features: [
                        "24 sombras pigmentadas",
                        "6 labiales de larga duraci√≥n",
                        "8 brochas profesionales",
                        "Base y corrector",
                        "Estuche organizador"
                    ]
                },
                {
                    id: 7,
                    name: "Crema Hidratante Noche",
                    category: "Accesorios",
                    description: "Reparaci√≥n intensiva durante el sue√±o.",
                    fullDescription: "Crema hidratante nocturna con f√≥rmula enriquecida con √°cido hialur√≥nico, vitamina E y col√°geno. Dise√±ada para reparar la piel mientras duermes, dejando un cutis radiante por la ma√±ana. Textura ligera que se absorbe r√°pidamente.",
                    price: 599,
                    oldPrice: 750,
                    image: "https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    features: [
                        "√Åcido hialur√≥nico",
                        "Vitamina E antioxidante",
                        "Col√°geno marino",
                        "Textura no grasa",
                        "Para todo tipo de piel"
                    ]
                },
                {
                    id: 8,
                    name: "Aceite Esencial Relajante",
                    category: "Accesorios",
                    description: "Aromaterapia para descanso profundo.",
                    fullDescription: "Aceite esencial 100% puro de lavanda y manzanilla, especialmente formulado para promover el descanso y relajaci√≥n. Perfecto para masajes, ba√±os o difusores. Frasco de vidrio √°mbar para proteger las propiedades del aceite.",
                    price: 399,
                    image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    additionalImages: [
                        "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    ],
                    badge: "Org√°nico",
                    features: [
                        "100% puro y natural",
                        "Mezcla de lavanda y manzanilla",
                        "Frasco de vidrio √°mbar",
                        "30ml de producto",
                        "Sin conservantes artificiales"
                    ]
                }
            ]
        };
        
        // ========== SISTEMA DE GALER√çA MEJORADO ==========
        class ProductGallery {
            constructor() {
                this.modal = document.getElementById('productModal');
                this.currentProduct = null;
                this.init();
            }
            
            init() {
                // Cerrar modal al hacer clic fuera
                this.modal.addEventListener('click', (e) => {
                    if (e.target.id === 'productModal') {
                        this.closeModal();
                    }
                });
                
                // Bot√≥n cerrar
                document.getElementById('closeModal').addEventListener('click', () => {
                    this.closeModal();
                });
                
                // Bot√≥n zoom
                document.getElementById('zoomBtn').addEventListener('click', () => {
                    this.toggleZoom();
                });
                
                // Escuchar tecla Escape
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.closeModal();
                    }
                });
                
                // Agregar al carrito desde modal
                document.getElementById('addToCartModal').addEventListener('click', () => {
                    if (this.currentProduct) {
                        addToCart(this.currentProduct.id);
                        this.closeModal();
                    }
                });
            }
            
            showProduct(product) {
                this.currentProduct = product;
                
                // Actualizar informaci√≥n en el modal
                document.getElementById('modalProductName').textContent = product.name;
                document.getElementById('modalCategory').textContent = product.category;
                document.getElementById('modalName').textContent = product.name;
                document.getElementById('modalCurrentPrice').textContent = `$${product.price}`;
                document.getElementById('modalDescription').textContent = product.fullDescription || product.description;
                
                // Precio anterior y descuento
                if (product.oldPrice && product.oldPrice > product.price) {
                    document.getElementById('modalOldPrice').textContent = `$${product.oldPrice}`;
                    document.getElementById('modalOldPrice').style.display = 'inline';
                    
                    const discount = Math.round(((product.oldPrice - product.price) / product.oldPrice) * 100);
                    document.getElementById('modalDiscount').textContent = `${discount}% OFF`;
                    document.getElementById('modalDiscount').style.display = 'inline';
                } else {
                    document.getElementById('modalOldPrice').style.display = 'none';
                    document.getElementById('modalDiscount').style.display = 'none';
                }
                
                // Imagen principal
                const mainImage = document.getElementById('modalMainImage');
                mainImage.src = product.image;
                mainImage.alt = product.name;
                
                // Caracter√≠sticas
                const featuresContainer = document.getElementById('modalFeatures');
                featuresContainer.innerHTML = '';
                
                if (product.features && product.features.length > 0) {
                    product.features.forEach(feature => {
                        const li = document.createElement('li');
                        li.innerHTML = `<i class="fas fa-check"></i> ${feature}`;
                        featuresContainer.appendChild(li);
                    });
                } else {
                    // Caracter√≠sticas por defecto seg√∫n categor√≠a
                    const defaultFeatures = this.getDefaultFeatures(product);
                    defaultFeatures.forEach(feature => {
                        const li = document.createElement('li');
                        li.innerHTML = `<i class="fas fa-check"></i> ${feature}`;
                        featuresContainer.appendChild(li);
                    });
                }
                
                // Im√°genes adicionales
                const additionalContainer = document.getElementById('additionalImages');
                additionalContainer.innerHTML = '';
                
                if (product.additionalImages && product.additionalImages.length > 0) {
                    product.additionalImages.forEach((img, index) => {
                        const imgDiv = document.createElement('div');
                        imgDiv.className = 'additional-image';
                        if (index === 0) imgDiv.classList.add('active');
                        
                        imgDiv.innerHTML = `<img src="${img}" alt="${product.name} ${index + 1}">`;
                        
                        imgDiv.addEventListener('click', () => {
                            this.changeMainImage(img);
                            document.querySelectorAll('.additional-image').forEach(el => {
                                el.classList.remove('active');
                            });
                            imgDiv.classList.add('active');
                        });
                        
                        additionalContainer.appendChild(imgDiv);
                    });
                }
                
                // Mostrar modal
                this.modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Resetear zoom
                document.getElementById('modalImageContainer').classList.remove('zoomed');
                document.getElementById('zoomBtn').innerHTML = '<i class="fas fa-search-plus"></i>';
            }
            
            getDefaultFeatures(product) {
                if (product.category === 'Pijamas') {
                    return [
                        'Material premium de alta calidad',
                        'Dise√±o ergon√≥mico para m√°ximo confort',
                        'Lavable a m√°quina sin perder color',
                        'Tallas disponibles: XS, S, M, L, XL',
                        'Hecho en M√©xico'
                    ];
                } else if (product.category === 'Accesorios') {
                    return [
                        'Materiales hipoalerg√©nicos',
                        'Duraci√≥n prolongada',
                        'F√°cil aplicaci√≥n',
                        'Ideal para uso diario',
                        'Paquete completo incluido'
                    ];
                }
                
                return [
                    'Calidad garantizada',
                    'Env√≠o r√°pido',
                    'Satisfacci√≥n 100% asegurada'
                ];
            }
            
            changeMainImage(src) {
                const mainImage = document.getElementById('modalMainImage');
                mainImage.src = src;
                document.getElementById('modalImageContainer').classList.remove('zoomed');
                document.getElementById('zoomBtn').innerHTML = '<i class="fas fa-search-plus"></i>';
            }
            
            toggleZoom() {
                const container = document.getElementById('modalImageContainer');
                const zoomBtn = document.getElementById('zoomBtn');
                
                container.classList.toggle('zoomed');
                
                if (container.classList.contains('zoomed')) {
                    zoomBtn.innerHTML = '<i class="fas fa-search-minus"></i>';
                } else {
                    zoomBtn.innerHTML = '<i class="fas fa-search-plus"></i>';
                }
            }
            
            closeModal() {
                this.modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // ========== SISTEMA DE CARRITO ==========
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        function addToCart(productId) {
            let product = null;
            
            // Buscar producto en todas las categor√≠as
            for (const category in products) {
                const found = products[category].find(p => p.id === productId);
                if (found) {
                    product = found;
                    break;
                }
            }
            
            if (!product) return;
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: 1
                });
            }
            
            saveCart();
            updateCartCount();
            showNotification(`${product.name} ha sido agregado al carrito!`);
        }

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function updateCartCount() {
            const cartCount = document.querySelector('.cart-count');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        function showNotification(message) {
            // Crear notificaci√≥n
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(45deg, var(--secondary-color), var(--accent-color));
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 10000;
                font-weight: 600;
                animation: slideInRight 0.3s ease, fadeOut 0.3s ease 2.7s forwards;
                display: flex;
                align-items: center;
                gap: 10px;
            `;
            
            notification.innerHTML = `
                <i class="fas fa-check-circle"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // ========== SISTEMA DE CITAS CON VALIDACI√ìN 1 HORA ==========
        class AppointmentSystem {
            constructor() {
                this.currentStep = 1;
                this.selectedDate = null;
                this.selectedTime = null;
                this.selectedService = null;
                this.appointmentDuration = 2; // Horas por defecto
                this.minimumGap = 1; // 1 hora m√≠nima entre citas
                
                // Horarios laborales
                this.workingHours = {
                    1: ['10:00', '11:00', '12:00', '14:00', '15:00', '16:00', '17:00'], // Lunes
                    2: ['10:00', '11:00', '12:00', '14:00', '15:00', '16:00', '17:00'], // Martes
                    3: ['10:00', '11:00', '12:00', '14:00', '15:00', '16:00', '17:00'], // Mi√©rcoles
                    4: ['10:00', '11:00', '12:00', '14:00', '15:00', '16:00', '17:00'], // Jueves
                    5: ['10:00', '11:00', '12:00', '14:00', '15:00', '16:00', '17:00'], // Viernes
                    6: ['10:00', '11:00', '12:00', '14:00', '15:00'] // S√°bado
                };
                
                // Citas ya confirmadas (se cargan de localStorage)
                this.confirmedAppointments = JSON.parse(
                    localStorage.getItem('confirmedAppointments')
                ) || [];
                
                this.init();
            }
            
            init() {
                this.renderCalendar(new Date().getMonth(), new Date().getFullYear());
                this.renderTimeSlots();
                this.bindEvents();
                this.updateSelectedDateText();
            }
            
            bindEvents() {
                // Navegaci√≥n
                document.getElementById('nextStep').addEventListener('click', () => this.nextStep());
                document.getElementById('prevStep').addEventListener('click', () => this.prevStep());
                document.getElementById('submitAppointment').addEventListener('click', (e) => {
                    e.preventDefault();
                    this.submitAppointment();
                });
                
                // Selecci√≥n de servicio
                document.querySelectorAll('.service-type').forEach(type => {
                    type.addEventListener('click', () => this.selectService(type));
                });
                
                // WhatsApp
                document.getElementById('openWhatsApp').addEventListener('click', (e) => {
                    e.preventDefault();
                    this.openWhatsApp();
                });
            }
            
            renderCalendar(month, year) {
                const calendar = document.getElementById('appointmentCalendar');
                const monthNames = [
                    'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                    'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
                ];
                
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                const startingDay = firstDay.getDay();
                
                let calendarHTML = `
                    <div class="calendar-header">
                        <button class="calendar-nav-btn prev-month" type="button">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="calendar-month">${monthNames[month]} ${year}</div>
                        <button class="calendar-nav-btn next-month" type="button">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="calendar-days">
                        <div class="calendar-day">Dom</div>
                        <div class="calendar-day">Lun</div>
                        <div class="calendar-day">Mar</div>
                        <div class="calendar-day">Mi√©</div>
                        <div class="calendar-day">Jue</div>
                        <div class="calendar-day">Vie</div>
                        <div class="calendar-day">S√°b</div>
                    </div>
                    <div class="calendar-grid">
                `;
                
                // D√≠as vac√≠os al inicio
                for (let i = 0; i < startingDay; i++) {
                    calendarHTML += '<div class="calendar-date"></div>';
                }
                
                // D√≠as del mes
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                for (let day = 1; day <= daysInMonth; day++) {
                    const date = new Date(year, month, day);
                    const dateStr = date.toISOString().split('T')[0];
                    const isToday = date.toDateString() === today.toDateString();
                    const isPast = date < today && !isToday;
                    const isSelected = this.selectedDate && 
                        this.selectedDate.toDateString() === date.toDateString();
                    const isAvailable = this.isDateAvailable(date);
                    
                    let className = 'calendar-date';
                    if (isToday) className += ' today';
                    if (isPast) className += ' disabled';
                    if (isSelected) className += ' selected';
                    if (isAvailable && !isPast) className += ' available';
                    if (!isAvailable && !isPast) className += ' booked';
                    
                    calendarHTML += `
                        <div class="${className}" 
                             data-date="${dateStr}"
                             ${isPast ? 'disabled' : ''}>
                            ${day}
                        </div>
                    `;
                }
                
                calendarHTML += '</div>';
                calendar.innerHTML = calendarHTML;
                
                // Eventos
                calendar.querySelectorAll('.calendar-date:not(.disabled)').forEach(dateEl => {
                    dateEl.addEventListener('click', () => {
                        this.selectDate(dateEl.dataset.date);
                    });
                });
                
                // Navegaci√≥n de meses
                calendar.querySelector('.prev-month').addEventListener('click', () => {
                    const newMonth = month === 0 ? 11 : month - 1;
                    const newYear = month === 0 ? year - 1 : year;
                    this.renderCalendar(newMonth, newYear);
                });
                
                calendar.querySelector('.next-month').addEventListener('click', () => {
                    const newMonth = month === 11 ? 0 : month + 1;
                    const newYear = month === 11 ? year + 1 : year;
                    this.renderCalendar(newMonth, newYear);
                });
            }
            
            isDateAvailable(date) {
                const dayOfWeek = date.getDay();
                return dayOfWeek !== 0 && this.workingHours[dayOfWeek];
            }
            
            selectDate(dateStr) {
                this.selectedDate = new Date(dateStr);
                this.selectedTime = null;
                
                // Actualizar UI
                document.querySelectorAll('.calendar-date').forEach(el => {
                    el.classList.remove('selected');
                });
                event.target.classList.add('selected');
                
                this.updateSelectedDateText();
                this.renderTimeSlots();
                this.hideValidationAlert();
            }
            
            updateSelectedDateText() {
                const dateText = this.selectedDate ? 
                    this.selectedDate.toLocaleDateString('es-ES', { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    }) : 'hoy';
                
                document.getElementById('selectedDateText').textContent = dateText;
            }
            
            renderTimeSlots() {
                const timeSlotsContainer = document.getElementById('timeSlots');
                
                if (!this.selectedDate) {
                    timeSlotsContainer.innerHTML = '<p>Por favor selecciona una fecha primero.</p>';
                    return;
                }
                
                const dayOfWeek = this.selectedDate.getDay();
                const dateStr = this.selectedDate.toISOString().split('T')[0];
                const workingSlots = this.workingHours[dayOfWeek] || [];
                
                let timeSlotsHTML = '';
                
                workingSlots.forEach(slot => {
                    const isAvailable = this.isTimeSlotAvailable(dateStr, slot);
                    const isAdjacent = this.isAdjacentToBooked(dateStr, slot);
                    const isSelected = this.selectedTime === slot;
                    
                    let className = 'time-slot';
                    let statusText = '';
                    
                    if (!isAvailable) {
                        className += ' booked';
                        statusText = 'Reservado';
                    } else if (isAdjacent) {
                        className += ' adjacent';
                        statusText = 'Muy cerca de otra cita';
                    } else {
                        className += ' available';
                        statusText = 'Disponible';
                    }
                    
                    if (isSelected) {
                        className += ' selected';
                    }
                    
                    timeSlotsHTML += `
                        <div class="${className}" 
                             data-time="${slot}"
                             title="${statusText}">
                            ${slot}
                            ${!isAvailable ? ' (Ocupado)' : ''}
                            ${isAdjacent ? ' (Muy cerca)' : ''}
                        </div>
                    `;
                });
                
                timeSlotsContainer.innerHTML = timeSlotsHTML;
                
                // Eventos para slots disponibles
                timeSlotsContainer.querySelectorAll('.time-slot.available').forEach(slot => {
                    slot.addEventListener('click', () => {
                        this.selectTime(slot.dataset.time);
                    });
                });
                
                // Si no hay slots disponibles, mostrar mensaje
                if (timeSlotsContainer.querySelectorAll('.time-slot.available').length === 0) {
                    const noSlotsMsg = document.createElement('div');
                    noSlotsMsg.className = 'validation-alert error show';
                    noSlotsMsg.innerHTML = `
                        <div class="validation-alert-header">
                            <i class="fas fa-calendar-times"></i>
                            <h4>D√≠a completo</h4>
                        </div>
                        <p>No hay horarios disponibles para esta fecha. Por favor selecciona otro d√≠a.</p>
                    `;
                    timeSlotsContainer.parentNode.insertBefore(noSlotsMsg, timeSlotsContainer);
                }
            }
            
            isTimeSlotAvailable(dateStr, time) {
                // Convertir hora a minutos desde medianoche
                const [hours, minutes] = time.split(':').map(Number);
                const slotMinutes = hours * 60 + minutes;
                
                // Buscar citas que se superpongan considerando duraci√≥n y gap
                for (const appointment of this.confirmedAppointments) {
                    if (appointment.date === dateStr) {
                        const [appHours, appMinutes] = appointment.time.split(':').map(Number);
                        const appStartMinutes = appHours * 60 + appMinutes;
                        const appEndMinutes = appStartMinutes + (appointment.duration * 60);
                        
                        // Verificar superposici√≥n considerando el gap m√≠nimo
                        const slotEndMinutes = slotMinutes + (this.appointmentDuration * 60);
                        const gapBefore = slotMinutes - appEndMinutes;
                        const gapAfter = appStartMinutes - slotEndMinutes;
                        
                        // Si se superpone o est√° dentro del gap m√≠nimo
                        if ((slotMinutes < appEndMinutes && slotEndMinutes > appStartMinutes) ||
                            (gapBefore >= 0 && gapBefore < this.minimumGap * 60) ||
                            (gapAfter >= 0 && gapAfter < this.minimumGap * 60)) {
                            return false;
                        }
                    }
                }
                
                return true;
            }
            
            isAdjacentToBooked(dateStr, time) {
                const [hours, minutes] = time.split(':').map(Number);
                const slotMinutes = hours * 60 + minutes;
                const slotEndMinutes = slotMinutes + (this.appointmentDuration * 60);
                
                for (const appointment of this.confirmedAppointments) {
                    if (appointment.date === dateStr) {
                        const [appHours, appMinutes] = appointment.time.split(':').map(Number);
                        const appStartMinutes = appHours * 60 + appMinutes;
                        const appEndMinutes = appStartMinutes + (appointment.duration * 60);
                        
                        // Verificar si est√° justo antes o despu√©s con gap m√≠nimo exacto
                        const gapBefore = slotMinutes - appEndMinutes;
                        const gapAfter = appStartMinutes - slotEndMinutes;
                        
                        if ((gapBefore >= 0 && gapBefore < (this.minimumGap * 60)) ||
                            (gapAfter >= 0 && gapAfter < (this.minimumGap * 60))) {
                            return true;
                        }
                    }
                }
                
                return false;
            }
            
            selectTime(time) {
                const dateStr = this.selectedDate.toISOString().split('T')[0];
                
                if (!this.isTimeSlotAvailable(dateStr, time)) {
                    this.showValidationAlert(
                        'error',
                        'Horario no disponible',
                        `Lo sentimos, ${time} ya no est√° disponible.`,
                        this.getAlternativeSlots(dateStr, time)
                    );
                    return;
                }
                
                this.selectedTime = time;
                
                // Actualizar UI
                document.querySelectorAll('.time-slot').forEach(el => {
                    el.classList.remove('selected');
                });
                event.target.classList.add('selected');
                
                this.hideValidationAlert();
                this.showValidationAlert(
                    'success',
                    '¬°Perfecto!',
                    `Has seleccionado ${time}. Puedes continuar al siguiente paso.`
                );
            }
            
            getAlternativeSlots(dateStr, requestedTime) {
                const [reqHours, reqMinutes] = requestedTime.split(':').map(Number);
                const reqSlotMinutes = reqHours * 60 + reqMinutes;
                const dayOfWeek = this.selectedDate.getDay();
                const workingSlots = this.workingHours[dayOfWeek] || [];
                
                const alternatives = [];
                
                workingSlots.forEach(slot => {
                    const [hours, minutes] = slot.split(':').map(Number);
                    const slotMinutes = hours * 60 + minutes;
                    
                    // Buscar slots disponibles que no sean el solicitado
                    if (slot !== requestedTime && this.isTimeSlotAvailable(dateStr, slot)) {
                        const timeDiff = Math.abs(slotMinutes - reqSlotMinutes);
                        alternatives.push({
                            time: slot,
                            diff: timeDiff
                        });
                    }
                });
                
                // Ordenar por proximidad al horario solicitado
                alternatives.sort((a, b) => a.diff - b.diff);
                
                return alternatives.slice(0, 3); // Devolver 3 alternativas m√°s cercanas
            }
            
            selectService(serviceElement) {
                const serviceName = serviceElement.querySelector('h5').textContent;
                const servicePrice = serviceElement.querySelector('.type-price').textContent;
                
                this.selectedService = {
                    name: serviceName,
                    price: servicePrice,
                    duration: serviceName.includes('Mega') ? 2.5 : 
                             serviceName.includes('Volumen') ? 2 : 1.5
                };
                
                this.appointmentDuration = this.selectedService.duration;
                
                // Actualizar UI
                document.querySelectorAll('.service-type').forEach(el => {
                    el.classList.remove('selected');
                });
                serviceElement.classList.add('selected');
            }
            
            showValidationAlert(type, title, message, alternatives = null) {
                const alert = document.getElementById('validationAlert');
                const alertTitle = document.getElementById('alertTitle');
                const alertMessage = document.getElementById('alertMessage');
                const suggestedTimes = document.getElementById('suggestedTimes');
                const alternativeSlots = document.getElementById('alternativeSlots');
                
                alert.className = `validation-alert ${type} show`;
                alertTitle.textContent = title;
                alertMessage.textContent = message;
                
                if (alternatives && alternatives.length > 0) {
                    suggestedTimes.style.display = 'block';
                    alternativeSlots.innerHTML = '';
                    
                    alternatives.forEach(alt => {
                        const slotEl = document.createElement('span');
                        slotEl.className = 'alternative-slot';
                        slotEl.textContent = alt.time;
                        slotEl.addEventListener('click', () => {
                            this.selectedTime = alt.time;
                            this.renderTimeSlots();
                            this.showValidationAlert(
                                'success',
                                '¬°Excelente!',
                                `Has seleccionado ${alt.time}.`
                            );
                        });
                        alternativeSlots.appendChild(slotEl);
                    });
                } else {
                    suggestedTimes.style.display = 'none';
                }
            }
            
            hideValidationAlert() {
                document.getElementById('validationAlert').classList.remove('show');
            }
            
            nextStep() {
                if (!this.validateStep(this.currentStep)) {
                    return;
                }
                
                document.getElementById(`step${this.currentStep}`).classList.remove('active');
                this.currentStep++;
                document.getElementById(`step${this.currentStep}`).classList.add('active');
                this.updateNavigation();
                
                if (this.currentStep === 3) {
                    this.updateSummary();
                }
            }
            
            prevStep() {
                document.getElementById(`step${this.currentStep}`).classList.remove('active');
                this.currentStep--;
                document.getElementById(`step${this.currentStep}`).classList.add('active');
                this.updateNavigation();
            }
            
            validateStep(step) {
                switch(step) {
                    case 1:
                        if (!this.selectedDate || !this.selectedTime) {
                            this.showValidationAlert(
                                'error',
                                'Faltan datos',
                                'Por favor selecciona fecha y hora para tu cita.'
                            );
                            return false;
                        }
                        
                        if (!this.selectedService) {
                            this.showValidationAlert(
                                'error',
                                'Servicio no seleccionado',
                                'Por favor selecciona un tipo de servicio.'
                            );
                            return false;
                        }
                        
                        // Validar disponibilidad final
                        const dateStr = this.selectedDate.toISOString().split('T')[0];
                        if (!this.isTimeSlotAvailable(dateStr, this.selectedTime)) {
                            this.showValidationAlert(
                                'error',
                                'Horario ocupado',
                                'Este horario ya fue reservado. Por favor selecciona otro.',
                                this.getAlternativeSlots(dateStr, this.selectedTime)
                            );
                            return false;
                        }
                        
                        return true;
                        
                    case 2:
                        const name = document.getElementById('clientName').value.trim();
                        const phone = document.getElementById('clientPhone').value.trim();
                        const email = document.getElementById('clientEmail').value.trim();
                        
                        if (!name || !phone || !email) {
                            this.showValidationAlert(
                                'error',
                                'Datos incompletos',
                                'Por favor completa todos los campos.'
                            );
                            return false;
                        }
                        
                        // Validar email
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(email)) {
                            this.showValidationAlert(
                                'error',
                                'Email inv√°lido',
                                'Por favor ingresa un email v√°lido.'
                            );
                            return false;
                        }
                        
                        // Validar tel√©fono (10 d√≠gitos)
                        const phoneDigits = phone.replace(/\D/g, '');
                        if (phoneDigits.length !== 10) {
                            this.showValidationAlert(
                                'error',
                                'Tel√©fono inv√°lido',
                                'Por favor ingresa un n√∫mero de WhatsApp v√°lido (10 d√≠gitos).'
                            );
                            return false;
                        }
                        
                        return true;
                        
                    default:
                        return true;
                }
            }
            
            updateNavigation() {
                const prevBtn = document.getElementById('prevStep');
                const nextBtn = document.getElementById('nextStep');
                const submitBtn = document.getElementById('submitAppointment');
                
                if (this.currentStep === 1) {
                    prevBtn.style.display = 'none';
                } else {
                    prevBtn.style.display = 'inline-flex';
                }
                
                if (this.currentStep === 3) {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = 'inline-flex';
                } else {
                    nextBtn.style.display = 'inline-flex';
                    submitBtn.style.display = 'none';
                }
            }
            
            updateSummary() {
                const summary = document.getElementById('appointmentSummary');
                const dateStr = this.selectedDate.toISOString().split('T')[0];
                
                if (!this.selectedDate || !this.selectedTime || !this.selectedService) {
                    summary.innerHTML = '<p>Por favor completa todos los pasos anteriores.</p>';
                    return;
                }
                
                const formattedDate = this.selectedDate.toLocaleDateString('es-ES', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Calcular hora de fin
                const [hours, minutes] = this.selectedTime.split(':').map(Number);
                const endTime = new Date(this.selectedDate);
                endTime.setHours(hours + Math.floor(this.selectedService.duration));
                endTime.setMinutes(minutes + ((this.selectedService.duration % 1) * 60));
                
                const formattedEndTime = endTime.toLocaleTimeString('es-ES', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                summary.innerHTML = `
                    <div class="summary-item">
                        <span>Fecha:</span>
                        <span>${formattedDate}</span>
                    </div>
                    <div class="summary-item">
                        <span>Hora:</span>
                        <span>${this.selectedTime} - ${formattedEndTime}</span>
                    </div>
                    <div class="summary-item">
                        <span>Servicio:</span>
                        <span>${this.selectedService.name}</span>
                    </div>
                    <div class="summary-item">
                        <span>Duraci√≥n:</span>
                        <span>${this.selectedService.duration} horas</span>
                    </div>
                    <div class="summary-item">
                        <span>Total:</span>
                        <span>${this.selectedService.price}</span>
                    </div>
                    <div class="summary-item" style="margin-top: 15px; padding-top: 15px; border-top: 2px solid #ddd;">
                        <span><strong>Total a pagar:</strong></span>
                        <span><strong>${this.selectedService.price}</strong></span>
                    </div>
                `;
            }
            
            submitAppointment() {
                if (!this.validateStep(2)) return;
                
                const submitBtn = document.getElementById('submitAppointment');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando...';
                submitBtn.disabled = true;
                
                // Simular procesamiento
                setTimeout(() => {
                    // Guardar cita localmente
                    this.saveAppointment();
                    
                    // Mostrar confirmaci√≥n WhatsApp
                    document.getElementById('appointmentForm').style.display = 'none';
                    document.getElementById('whatsappConfirmation').style.display = 'block';
                    
                    // Preparar mensaje WhatsApp
                    this.prepareWhatsAppMessage();
                    
                    // Restaurar bot√≥n
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    // Mostrar confirmaci√≥n
                    this.showValidationAlert(
                        'success',
                        '¬°Cita agendada!',
                        'Se ha guardado tu cita localmente. Ahora puedes enviar los detalles por WhatsApp.'
                    );
                    
                }, 1500);
            }
            
            saveAppointment() {
                const appointmentData = {
                    id: Date.now(),
                    date: this.selectedDate.toISOString().split('T')[0],
                    time: this.selectedTime,
                    service: this.selectedService.name,
                    duration: this.selectedService.duration,
                    price: this.selectedService.price,
                    clientName: document.getElementById('clientName').value.trim(),
                    clientPhone: document.getElementById('clientPhone').value.trim(),
                    clientEmail: document.getElementById('clientEmail').value.trim(),
                    notes: document.getElementById('clientNotes').value.trim(),
                    bookedAt: new Date().toISOString()
                };
                
                // Agregar a citas confirmadas
                this.confirmedAppointments.push(appointmentData);
                localStorage.setItem('confirmedAppointments', JSON.stringify(this.confirmedAppointments));
                
                console.log('Cita guardada:', appointmentData);
            }
            
            prepareWhatsAppMessage() {
                const formattedDate = this.selectedDate.toLocaleDateString('es-ES', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Calcular hora de fin
                const [hours, minutes] = this.selectedTime.split(':').map(Number);
                const endTime = new Date(this.selectedDate);
                endTime.setHours(hours + Math.floor(this.selectedService.duration));
                endTime.setMinutes(minutes + ((this.selectedService.duration % 1) * 60));
                
                const formattedEndTime = endTime.toLocaleTimeString('es-ES', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const clientName = document.getElementById('clientName').value.trim();
                const clientPhone = document.getElementById('clientPhone').value.trim();
                const clientEmail = document.getElementById('clientEmail').value.trim();
                const notes = document.getElementById('clientNotes').value.trim();
                
                const message = `üìÖ *NUEVA CITA AGENDADA - SISTEMA ANTI-CONFLICTOS* üìÖ

üë§ *Cliente:* ${clientName}
üì± *WhatsApp:* ${clientPhone}
üìß *Email:* ${clientEmail}

üíÖ *Servicio:* ${this.selectedService.name}
üí∞ *Precio:* ${this.selectedService.price}
‚è±Ô∏è *Duraci√≥n:* ${this.selectedService.duration} horas
üìÖ *Fecha:* ${formattedDate}
‚è∞ *Horario:* ${this.selectedTime} - ${formattedEndTime}

üìù *Notas del cliente:*
${notes || 'Ninguna nota adicional'}

üìç *Ubicaci√≥n:* Av. Moda 123, Ciudad de M√©xico
üïê *Recomendaciones:*
‚Ä¢ Llegar 5 minutos antes
‚Ä¢ Sin maquillaje en ojos
‚Ä¢ Traer mascarilla

‚úÖ *CONFIRMACI√ìN AUTOM√ÅTICA:*
‚Ä¢ 1 hora m√≠nima entre citas respetada
‚Ä¢ Sin conflictos de horario
‚Ä¢ Sistema validado

Por favor confirma esta cita respondiendo "‚úÖ CONFIRMADO"`;

                const whatsappNumber = "521234567890"; // CAMBIA ESTE N√öMERO POR EL TUYO
                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
                
                document.getElementById('openWhatsApp').href = whatsappUrl;
            }
            
            openWhatsApp() {
                window.open(document.getElementById('openWhatsApp').href, '_blank');
            }
        }

        // ========== INICIALIZAR PRODUCTOS ==========
        function renderProducts() {
            const pajamasGrid = document.getElementById('pajamasGrid');
            const accessoriesGrid = document.getElementById('accessoriesGrid');
            
            // Limpiar grids
            pajamasGrid.innerHTML = '';
            accessoriesGrid.innerHTML = '';
            
            // Renderizar pijamas
            products.pajamas.forEach(product => {
                pajamasGrid.appendChild(createProductCard(product));
            });
            
            // Renderizar accesorios
            products.accessories.forEach(product => {
                accessoriesGrid.appendChild(createProductCard(product));
            });
        }

        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card';
            
            const badge = product.badge ? `<div class="product-badge">${product.badge}</div>` : '';
            const oldPrice = product.oldPrice ? `<span class="old-price">$${product.oldPrice}</span>` : '';
            
            card.innerHTML = `
                ${badge}
                <div class="product-image">
                    <div class="image-container">
                        <img src="${product.image}" alt="${product.name}" 
                             class="view-product" data-product-id="${product.id}">
                        <button class="view-details-btn view-product" data-product-id="${product.id}">
                            <i class="fas fa-search"></i> Ver Detalles
                        </button>
                    </div>
                </div>
                <div class="product-info">
                    <div class="product-category">${product.category}</div>
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <div class="product-price">
                        <div class="price">
                            ${oldPrice}
                            $${product.price}
                        </div>
                        <button class="add-to-cart" data-id="${product.id}">
                            <i class="fas fa-shopping-bag"></i>
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        // ========== FILTROS OCASIONES ESPECIALES ==========
        function setupOccasionsFilters() {
            const filterButtons = document.querySelectorAll('.occasion-filters .filter-btn');
            const occasionCards = document.querySelectorAll('.occasion-card');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filterValue = this.getAttribute('data-filter');
                    
                    occasionCards.forEach(card => {
                        const occasionType = card.getAttribute('data-occasion');
                        
                        if (filterValue === 'all' || occasionType === filterValue) {
                            card.style.display = 'flex';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });
        }

        // ========== EVENT LISTENERS ==========
        function setupEventListeners() {
            // Men√∫ m√≥vil
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mainNav = document.getElementById('mainNav');
            
            mobileMenuBtn.addEventListener('click', () => {
                mainNav.classList.toggle('active');
                mobileMenuBtn.innerHTML = mainNav.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
            
            // Smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        mainNav.classList.remove('active');
                        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                        
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Carrito
            const cartIcon = document.getElementById('cartIcon');
            cartIcon.addEventListener('click', () => {
                showNotification('Carrito: ' + cart.reduce((sum, item) => sum + item.quantity, 0) + ' productos');
            });
            
            // Agregar al carrito
            document.addEventListener('click', (e) => {
                if (e.target.closest('.add-to-cart')) {
                    const productId = parseInt(e.target.closest('.add-to-cart').dataset.id);
                    addToCart(productId);
                }
                
                // Abrir modal de producto
                if (e.target.closest('.view-product')) {
                    const productId = parseInt(e.target.closest('.view-product').dataset.productId);
                    
                    let product = null;
                    for (const category in products) {
                        const found = products[category].find(p => p.id === productId);
                        if (found) {
                            product = found;
                            break;
                        }
                    }
                    
                    if (product) {
                        window.productGallery.showProduct(product);
                    }
                }
            });
            
            // Newsletter
            const newsletterForm = document.getElementById('newsletterForm');
            newsletterForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const email = newsletterForm.querySelector('.newsletter-input').value;
                alert(`¬°Gracias por suscribirte con el correo: ${email}! Te enviaremos nuestras promociones.`);
                newsletterForm.reset();
            });
        }

        // ========== INICIALIZAR TODO ==========
        function init() {
            renderProducts();
            updateCartCount();
            setupEventListeners();
            setupOccasionsFilters();
            window.productGallery = new ProductGallery();
            // Inicializar sistema de citas
            window.appointmentSystem = new AppointmentSystem();
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>